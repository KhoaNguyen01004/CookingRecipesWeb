@model CookingRecipesWeb.Models.Recipe

@{
    ViewData["Title"] = "Create Recipe";
}

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<link rel="stylesheet" href="~/css/create-recipe.css" asp-append-version="true" />

<div class="container">
    <h1 class="my-4">Create New Recipe</h1>

    <form asp-action="CreateRecipe" method="post" id="recipe-form">
        <partial name="_BasicInfoSection" model="Model" />
        <partial name="_CategoriesAndAreaSection" model="Model" />
        <partial name="_IngredientsSection" model="Model" />
        <partial name="_CookingStepsSection" model="Model" />
        <partial name="_MediaAndExtrasSection" model="Model" />
        <partial name="_SubmitButtonsSection" model="Model" />
    </form>
</div>

<!-- Add Category Modal -->
<div class="modal fade" id="addCategoryModal" tabindex="-1" aria-labelledby="addCategoryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addCategoryModalLabel">Add New Category</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="add-category-form">
                    <div class="mb-3">
                        <label for="category-name-input" class="form-label">Category Name</label>
                        <input type="text" class="form-control" id="category-name-input"
                            placeholder="Enter new category name" required style="font-size: 16px;" />
                        <div class="invalid-feedback" id="category-error"></div>
                    </div>
                    <div class="mb-3">
                        <label for="category-image-input" class="form-label">Image URL (Optional)</label>
                        <input type="url" class="form-control" id="category-image-input"
                            placeholder="https://example.com/image.jpg" style="font-size: 16px;" />
                        <div class="form-text">Provide a URL to an image for this category</div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="save-category-btn">
                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                    Save Category
                </button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/create-recipe.js" asp-append-version="true"></script>
}